var totalQuestions,globAnswers=[];function checkText(e,t){var n=e.elements[2*t+1],r=!1;return"Define valor"==n.value?t:(n.value==globAnswers[t][0].innerHTML&&(r=!0),r)}function checkSelect(e,t){var n=e.elements[2*t+1],r=!1;return"por defecto"==n.value?t:(n.value==globAnswers[t][0].innerHTML&&(r=!0),r)}function checkMultiple(e,t){for(var n=document.getElementById("htmlForm").elements[2*t+1].getElementsByTagName("option"),r=globAnswers[t],a=n.length,l=0,s=(r[0].innerHTML,0);s<a;s++)if(actAnswer=n[s],i=!1,1==actAnswer.selected){if("Define valor"==actAnswer.innerHTML)return t;l+=1;for(var o=0;o<r.length;o++)if(actAnswer.value==r[o].innerHTML){var i=!0;break}if(0==i)return i}return l==r.length}function checkCheckbox(e,t){for(var n=document.getElementsByClassName("check_"+t),r=globAnswers[t],a=n.length,l=0,s=0;s<a;s++)if(actAnswer=n[s],i=!1,1==actAnswer.checked){l+=1;for(var o=0;o<r.length;o++)if(actAnswer.id==r[o].innerHTML){var i=!0;break}if(0==i)return i}return l==r.length}function checkRadio(e,t){for(var n=document.getElementsByClassName("radio_"+t),r=globAnswers[t],a=n.length,l=0,s=0;s<a;s++)if(actAnswer=n[s],auxFlag=!1,1==actAnswer.checked){if(l+=1,actAnswer.id==r[0].innerHTML)continue;return auxFlag}return l==r.length}function answersChecker(){for(var e=0,t=0;t<totalQuestions;t++){var n=!1;if(t>=0&&t<2){if(!0===(n=checkText(formElement,t)))e+=1;else if(0!=n)return void alert("No respondió todas las preguntas, por favor intente de nuevo.")}else if(t>1&&t<4){if(!0===(n=checkSelect(formElement,t)))e+=1;else if(0!=n)return void alert("No respondió todas las preguntas, por favor intente de nuevo.")}else if(t>3&&t<6){if(!0===(n=checkMultiple(formElement,t)))e+=1;else if(0!=n)return void alert("No respondió todas las preguntas, por favor intente de nuevo.")}else if(t>5&&t<8){if(!0===(n=checkCheckbox(formElement,t)))e+=1;else if(0!=n)return void alert("No respondió todas las preguntas, por favor intente de nuevo.")}else if(t>7&&t<10)if(!0===(n=checkRadio(formElement,t)))e+=1;else if(0!=n)return void alert("No respondió todas las preguntas, por favor intente de nuevo.")}0==[].length&&alert("Tu nota final es: "+e)}function getTitle(e){return e.getElementsByTagName("title")[0].innerHTML}function getAnswers(e){return e.getElementsByTagName("answer")}function getOptions(e){return e.getElementsByTagName("option")}function getWorkFieldset(e){return document.getElementsByTagName("fieldset")[e]}function textHandler(e,t){var n=getWorkFieldset(t),r=getTitle(e),a=e.getElementsByTagName("answer");globAnswers[t]=a,n.getElementsByTagName("p")[0].innerHTML=r}function selectHandler(e,t){var n=getWorkFieldset(t),r=getTitle(e);n.getElementsByTagName("p")[0].innerHTML=r;var a=getOptions(e),l=e.getElementsByTagName("answer");globAnswers[t]=l;for(var s=0;s<a.length;s++){var o=a[s],i=document.createElement("option");i.text=o.innerHTML,i.value=s+1,document.getElementsByTagName("fieldset")[t].getElementsByTagName("select")[0].appendChild(i)}}function multipleHandler(e,t){var n=getWorkFieldset(t),r=getTitle(e);n.getElementsByTagName("p")[0].innerHTML=r;var a=getOptions(e),l=e.getElementsByTagName("answer");globAnswers[t]=l;for(var s=0;s<a.length;s++){var o=a[s],i=document.createElement("option");i.text=o.innerHTML,i.value=s+1,document.getElementsByTagName("fieldset")[t].getElementsByTagName("select")[0].appendChild(i)}}function checkBoxHandler(e,t){var n=getWorkFieldset(t),r=getTitle(e);n.getElementsByTagName("p")[0].innerHTML=r;var a=getOptions(e),l=e.getElementsByTagName("answer");globAnswers[t]=l;for(var s=0;s<a.length;s++){var o=a[s],i=document.createElement("input"),c=document.createElement("label"),m=document.createElement("br"),d=document.createTextNode(o.innerHTML),g=2*t+1,u="check_"+t;i.setAttribute("type","checkbox"),i.setAttribute("value",o.innerHTML),i.setAttribute("class",u),i.setAttribute("name","cBox"),i.setAttribute("id",s+1),c.setAttribute("for","cBox_"+g),c.appendChild(d),document.getElementsByTagName("fieldset")[t].appendChild(i),document.getElementsByTagName("fieldset")[t].appendChild(c),document.getElementsByTagName("fieldset")[t].appendChild(m)}}function radioHandler(e,t){var n=getWorkFieldset(t),r=getTitle(e);n.getElementsByTagName("p")[0].innerHTML=r;var a=getOptions(e),l=e.getElementsByTagName("answer");globAnswers[t]=l;for(var s=0;s<a.length;s++){var o=a[s],i=document.createElement("input"),c=document.createElement("label"),m=document.createTextNode(o.innerHTML),d=document.createElement("br"),g=(document.createTextNode(o.innerHTML),"radio_"+t);i.setAttribute("type","radio"),i.setAttribute("name",a.length),i.setAttribute("id",s+1),i.setAttribute("class",g),i.setAttribute("value",o.innerHTML),c.appendChild(m),document.getElementsByTagName("fieldset")[t].appendChild(i),document.getElementsByTagName("fieldset")[t].appendChild(c),document.getElementsByTagName("fieldset")[t].appendChild(d)}}function questionHandler(e){var t=e.responseXML;t.getElementsByTagName("question");totalQuestions=t.getElementsByTagName("question").length;for(var n=0;n<10;n++){var r=t.getElementsByTagName("question")[n];switch(r.getElementsByTagName("type")[0].innerHTML){case"text":textHandler(r,n);break;case"select":selectHandler(r,n);break;case"multiple":multipleHandler(r,n);break;case"checkbox":checkBoxHandler(r,n);break;case"radio":radioHandler(r,n)}}}window.onload=function(){formElement=document.getElementById("htmlForm"),formElement.onsubmit=function(){answersChecker()};var e=new XMLHttpRequest;e.onreadystatechange=function(){4==this.readyState&&200==this.status&&questionHandler(this)},e.open("GET","https://cdn.rawgit.com/simonjr90/asd/197b20ea/xml/XML.xml",!0),e.send()};
